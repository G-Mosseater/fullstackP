import{j as s,C as i,L as d,u as h,r as l,E as m,a as x}from"./index-BxdtfaO0.js";const u=({className:r,style:e,image:a,alt:t,width:n})=>s.jsx("div",{className:`avatar ${r}`,style:e,children:s.jsx("img",{src:a,alt:t,style:{width:n,height:n}})}),j=({image:r,name:e,placeCount:a,id:t})=>s.jsx("li",{className:"user-item",children:s.jsx(i,{className:"user-item__content",children:s.jsxs(d,{to:`/${t}/places`,children:[s.jsx("div",{className:"user-item__image",children:s.jsx(u,{image:`http://localhost:5000/${r}`,alt:e})}),s.jsxs("div",{className:"user-item__info",children:[s.jsx("h2",{children:e}),s.jsxs("h3",{children:[a," ",a===1?"Place":"Places"]})]})]})})}),p=({items:r})=>r.length===0?s.jsx("div",{className:"center",children:s.jsx(i,{children:s.jsx("h2",{children:" No users found."})})}):s.jsx("ul",{className:"users-list",children:r.map(e=>s.jsx(j,{id:e.id,image:e.image,name:e.name,placeCount:e.places.length},e.id))}),N=()=>{const{isLoading:r,error:e,sendRequest:a,clearError:t}=h(),[n,o]=l.useState();return l.useEffect(()=>{(async()=>{try{const c=await a("http://localhost:5000/api/users");o(c.users)}catch{}})()},[a]),s.jsxs(s.Fragment,{children:[s.jsx(m,{error:e,onClear:t}),r&&s.jsx("div",{className:"center",children:s.jsx(x,{})}),!r&&n&&s.jsx(p,{items:n})]})};export{N as default};
